{"version":3,"file":"565-89bf480f71463bbfa720.js","mappings":"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","sources":["webpack://spell-talents/./node_modules/@web3-react/portis-connector/dist/portis-connector.esm.js"],"sourcesContent":["import { AbstractConnector } from '@web3-react/abstract-connector';\nimport invariant from 'tiny-invariant';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nvar chainIdToNetwork = {\n  1: 'mainnet',\n  3: 'ropsten',\n  4: 'rinkeby',\n  5: 'goerli',\n  42: 'kovan',\n  100: 'xdai',\n  30: 'orchid',\n  31: 'orchidTestnet',\n  99: 'core',\n  77: 'sokol',\n  61: 'classic',\n  8: 'ubiq',\n  108: 'thundercore',\n  18: 'thundercoreTestnet',\n  163: 'lightstreams',\n  122: 'fuse',\n  15001: 'maticTestnet'\n};\n\nvar PortisConnector = /*#__PURE__*/function (_AbstractConnector) {\n  _inheritsLoose(PortisConnector, _AbstractConnector);\n\n  function PortisConnector(_ref) {\n    var _this;\n\n    var dAppId = _ref.dAppId,\n        networks = _ref.networks,\n        _ref$config = _ref.config,\n        config = _ref$config === void 0 ? {} : _ref$config;\n    var chainIds = networks.map(function (n) {\n      return typeof n === 'number' ? n : Number(n.chainId);\n    });\n    !chainIds.every(function (c) {\n      return !!chainIdToNetwork[c];\n    }) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"One or more unsupported networks \" + networks) : invariant(false) : void 0;\n    _this = _AbstractConnector.call(this, {\n      supportedChainIds: chainIds\n    }) || this;\n    _this.dAppId = dAppId;\n    _this.networks = networks;\n    _this.config = config;\n    _this.handleOnLogout = _this.handleOnLogout.bind(_assertThisInitialized(_this));\n    _this.handleOnActiveWalletChanged = _this.handleOnActiveWalletChanged.bind(_assertThisInitialized(_this));\n    _this.handleOnError = _this.handleOnError.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = PortisConnector.prototype;\n\n  _proto.handleOnLogout = function handleOnLogout() {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.log(\"Handling 'onLogout' event\");\n    }\n\n    this.emitDeactivate();\n  };\n\n  _proto.handleOnActiveWalletChanged = function handleOnActiveWalletChanged(account) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.log(\"Handling 'onActiveWalletChanged' event with payload\", account);\n    }\n\n    this.emitUpdate({\n      account: account\n    });\n  };\n\n  _proto.handleOnError = function handleOnError(error) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.log(\"Handling 'onError' event\");\n    }\n\n    this.emitError(error);\n  };\n\n  _proto.activate = function activate() {\n    try {\n      var _this3 = this;\n\n      var _temp3 = function _temp3() {\n        _this3.portis.onLogout(_this3.handleOnLogout);\n\n        _this3.portis.onActiveWalletChanged(_this3.handleOnActiveWalletChanged);\n\n        _this3.portis.onError(_this3.handleOnError);\n\n        return Promise.resolve(_this3.portis.provider.enable().then(function (accounts) {\n          return accounts[0];\n        })).then(function (account) {\n          return {\n            provider: _this3.portis.provider,\n            account: account\n          };\n        });\n      };\n\n      var _temp4 = function () {\n        if (!_this3.portis) {\n          return Promise.resolve(import('@portis/web3').then(function (m) {\n            var _m$default;\n\n            return (_m$default = m == null ? void 0 : m[\"default\"]) != null ? _m$default : m;\n          })).then(function (Portis) {\n            _this3.portis = new Portis(_this3.dAppId, typeof _this3.networks[0] === 'number' ? chainIdToNetwork[_this3.networks[0]] : _this3.networks[0], _this3.config);\n          });\n        }\n      }();\n\n      return Promise.resolve(_temp4 && _temp4.then ? _temp4.then(_temp3) : _temp3(_temp4));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.getProvider = function getProvider() {\n    try {\n      var _this5 = this;\n\n      return Promise.resolve(_this5.portis.provider);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.getChainId = function getChainId() {\n    try {\n      var _this7 = this;\n\n      return Promise.resolve(_this7.portis.provider.send('eth_chainId'));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.getAccount = function getAccount() {\n    try {\n      var _this9 = this;\n\n      return Promise.resolve(_this9.portis.provider.send('eth_accounts').then(function (accounts) {\n        return accounts[0];\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.deactivate = function deactivate() {\n    this.portis.onLogout(function () {});\n    this.portis.onActiveWalletChanged(function () {});\n    this.portis.onError(function () {});\n  };\n\n  _proto.changeNetwork = function changeNetwork(newNetwork, isGasRelayEnabled) {\n    try {\n      var _this11 = this;\n\n      if (typeof newNetwork === 'number') {\n        !!!chainIdToNetwork[newNetwork] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Invalid chainId \" + newNetwork) : invariant(false) : void 0;\n\n        _this11.portis.changeNetwork(chainIdToNetwork[newNetwork], isGasRelayEnabled);\n\n        _this11.emitUpdate({\n          chainId: newNetwork\n        });\n      } else {\n        _this11.portis.changeNetwork(newNetwork, isGasRelayEnabled);\n\n        _this11.emitUpdate({\n          chainId: Number(newNetwork.chainId)\n        });\n      }\n\n      return Promise.resolve();\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.close = function close() {\n    try {\n      var _this13 = this;\n\n      return Promise.resolve(_this13.portis.logout()).then(function () {\n        _this13.emitDeactivate();\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  return PortisConnector;\n}(AbstractConnector);\n\nexport { PortisConnector };"],"names":["_setPrototypeOf","o","p","Object","setPrototypeOf","__proto__","_assertThisInitialized","self","ReferenceError","chainIdToNetwork","PortisConnector","_AbstractConnector","subClass","superClass","_ref","_this","dAppId","networks","_ref$config","config","chainIds","map","n","Number","chainId","every","c","call","this","supportedChainIds","handleOnLogout","bind","handleOnActiveWalletChanged","handleOnError","prototype","create","constructor","_proto","emitDeactivate","account","emitUpdate","error","emitError","activate","_this3","_temp3","portis","onLogout","onActiveWalletChanged","onError","Promise","resolve","provider","enable","then","accounts","_temp4","m","_m$default","Portis","e","reject","getProvider","getChainId","send","getAccount","deactivate","changeNetwork","newNetwork","isGasRelayEnabled","_this11","close","_this13","logout"],"sourceRoot":""}